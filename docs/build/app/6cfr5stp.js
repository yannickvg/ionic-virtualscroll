/*! Built with http://stenciljs.com */
const{h:t}=window.App;import{b as e,a as s,c as i,d as n}from"./chunk-ce917615.js";import{d as o,e as r,f as a,g as h}from"./chunk-4620ed8e.js";class l{async onSWUpdate(){const t=await this.toastCtrl.create({message:"New version available",showCloseButton:!0,closeButtonText:"Reload"});await t.present(),await t.onWillDismiss(),window.location.reload()}render(){return t("ion-app",null,t("ion-router",{useHash:!1},t("ion-route",{url:"/",component:"app-home"})),t("ion-nav",null))}static get is(){return"my-app"}static get properties(){return{toastCtrl:{connect:"ion-toast-controller"}}}static get listeners(){return[{name:"window:swUpdate",method:"onSWUpdate"}]}static get style(){return""}}function c(t){return function(t,e,s=!1){return t.matchMedia?t.matchMedia("(any-pointer:coarse)").matches:s}(t)}class u{componentDidLoad(){!async function(t,e){e.getBoolean("inputShims",function(t){return function(t){return function(t,e){return/iPad|iPhone|iPod/i.test(t.navigator.userAgent)}(t)}(t)&&c(t)}(t))&&(await import("./input-shims.js")).startInputShims(t.document,e)}(this.win,this.config)}hostData(){const t=function(t){const e=t;return!!(e.cordova||e.phonegap||e.PhoneGap)}(e=this.win)||function(t){const s=e.Capacitor;return!(!s||!s.isNative)}();var e;const s=this.config.getBoolean("statusbarPadding",t);return{class:{[this.mode]:!0,"statusbar-padding":s}}}render(){const e=this.config.getBoolean("isDevice",c(this.win));return[t("ion-tap-click",null),e&&t("ion-status-tap",null),t("slot",null)]}static get is(){return"ion-app"}static get host(){return{theme:"app"}}static get properties(){return{config:{context:"config"},el:{elementRef:!0},win:{context:"window"}}}static get style(){return"audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%;border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{height:1px;border-width:0;-webkit-box-sizing:content-box;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}input,label,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::-webkit-input-placeholder{padding-left:2px}textarea:-ms-input-placeholder{padding-left:2px}textarea::-ms-input-placeholder{padding-left:2px}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}[tappable],[tappable] div,[tappable] ion-icon,[tappable] ion-label,[tappable] span,a,a div,a ion-icon,a ion-label,a span,button,button div,button ion-icon,button ion-label,button span,input,textarea{-ms-touch-action:manipulation;touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.hide,[hidden],template{display:none!important}.sticky{position:-webkit-sticky;position:sticky;top:0}.click-block{display:none}.click-block-enabled{left:0;right:0;top:0;bottom:0;-webkit-transform:translate3d(0,-100%,0) translateY(1px);transform:translate3d(0,-100%,0) translateY(1px);position:absolute;z-index:99999;display:block;opacity:0;contain:strict}.click-block-active{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}*{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;overflow:hidden;width:100%;max-width:100%;height:100%;max-height:100%;text-rendering:optimizeLegibility;-webkit-user-drag:none;-ms-content-zooming:none;-ms-touch-action:manipulation;touch-action:manipulation;word-wrap:break-word;overscroll-behavior-y:contain;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}a{background-color:transparent;color:var(--ion-color-ios-primary,var(--ion-color-primary,#3880ff))}a:not(.button):hover{opacity:.7}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:26px}h2{margin-top:18px;font-size:24px}h3{font-size:22px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-page,ion-app,ion-nav,ion-router-outlet,ion-tab,ion-tabs{left:0;right:0;top:0;bottom:0;position:absolute;z-index:0;overflow:hidden;contain:layout size style}.ion-page,ion-app{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.hide-page{opacity:0}.nav-decor{display:none}.show-decor>.nav-decor{left:0;right:0;top:0;bottom:0;position:absolute;z-index:0;display:block;background:#000;pointer-events:none}[app-viewport],[nav-viewport],[overlay-portal],[tab-portal],ion-action-sheet-controller,ion-alert-controller,ion-animation-controller,ion-input-shims,ion-loading-controller,ion-menu-controller,ion-modal-controller,ion-nav-controller,ion-picker-controller,ion-route,ion-route-controller,ion-status-tap,ion-tap-click,ion-toast-controller{display:none}[text-center]{text-align:center!important}[text-justify]{text-align:justify!important}[text-start]{text-align:left;text-align:start!important}[text-end]{text-align:right;text-align:end!important}[text-left]{text-align:left!important}[text-right]{text-align:right!important}[text-nowrap]{white-space:nowrap!important}[text-wrap]{white-space:normal!important}[text-uppercase]{text-transform:uppercase!important}[text-lowercase]{text-transform:lowercase!important}[text-capitalize]{text-transform:capitalize!important}[float-left],[float-start]{float:left!important}[float-end],[float-right]{float:right!important}\@media (min-width:576px){[text-sm-center]{text-align:center!important}[text-sm-justify]{text-align:justify!important}[text-sm-start]{text-align:left;text-align:start!important}[text-sm-end]{text-align:right;text-align:end!important}[text-sm-left]{text-align:left!important}[text-sm-right]{text-align:right!important}[text-sm-nowrap]{white-space:nowrap!important}[text-sm-wrap]{white-space:normal!important}[text-sm-uppercase]{text-transform:uppercase!important}[text-sm-lowercase]{text-transform:lowercase!important}[text-sm-capitalize]{text-transform:capitalize!important}[float-sm-left],[float-sm-start]{float:left!important}[float-sm-end],[float-sm-right]{float:right!important}}\@media (min-width:768px){[text-md-center]{text-align:center!important}[text-md-justify]{text-align:justify!important}[text-md-start]{text-align:left;text-align:start!important}[text-md-end]{text-align:right;text-align:end!important}[text-md-left]{text-align:left!important}[text-md-right]{text-align:right!important}[text-md-nowrap]{white-space:nowrap!important}[text-md-wrap]{white-space:normal!important}[text-md-uppercase]{text-transform:uppercase!important}[text-md-lowercase]{text-transform:lowercase!important}[text-md-capitalize]{text-transform:capitalize!important}[float-md-left],[float-md-start]{float:left!important}[float-md-end],[float-md-right]{float:right!important}}\@media (min-width:992px){[text-lg-center]{text-align:center!important}[text-lg-justify]{text-align:justify!important}[text-lg-start]{text-align:left;text-align:start!important}[text-lg-end]{text-align:right;text-align:end!important}[text-lg-left]{text-align:left!important}[text-lg-right]{text-align:right!important}[text-lg-nowrap]{white-space:nowrap!important}[text-lg-wrap]{white-space:normal!important}[text-lg-uppercase]{text-transform:uppercase!important}[text-lg-lowercase]{text-transform:lowercase!important}[text-lg-capitalize]{text-transform:capitalize!important}[float-lg-left],[float-lg-start]{float:left!important}[float-lg-end],[float-lg-right]{float:right!important}}\@media (min-width:1200px){[text-xl-center]{text-align:center!important}[text-xl-justify]{text-align:justify!important}[text-xl-start]{text-align:left;text-align:start!important}[text-xl-end]{text-align:right;text-align:end!important}[text-xl-left]{text-align:left!important}[text-xl-right]{text-align:right!important}[text-xl-nowrap]{white-space:nowrap!important}[text-xl-wrap]{white-space:normal!important}[text-xl-uppercase]{text-transform:uppercase!important}[text-xl-lowercase]{text-transform:lowercase!important}[text-xl-capitalize]{text-transform:capitalize!important}[float-xl-left],[float-xl-start]{float:left!important}[float-xl-end],[float-xl-right]{float:right!important}}ion-app [no-padding],ion-app [no-padding] .scroll-inner{padding:0}ion-app [no-margin],ion-app [no-margin] ion-scroll{margin:0}.app-ios{font-family:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",Roboto,sans-serif;font-size:14px;background-color:var(--ion-background-ios-color,var(--ion-background-color,#fff))}.app-ios ion-tabs ion-tabbar:not(.placement-top){padding-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(50px + env(safe-area-inset-bottom))}.app-ios ion-footer .toolbar:last-child{padding-bottom:calc(env(safe-area-inset-bottom) + 4px);min-height:calc(44px + constant(safe-area-inset-bottom));min-height:calc(44px + env(safe-area-inset-bottom))}.app-ios.statusbar-padding .ion-page>.toolbar:first-child,.app-ios.statusbar-padding .ion-page>ion-header>.toolbar:first-child,.app-ios.statusbar-padding ion-menu>.menu-inner>.toolbar:first-child,.app-ios.statusbar-padding ion-menu>.menu-inner>ion-header>.toolbar:first-child,.app-ios.statusbar-padding>ion-header>.toolbar:first-child{padding-top:calc(env(safe-area-inset-top) + 4px);min-height:calc(44px + 20px);min-height:calc(44px + constant(safe-area-inset-top));min-height:calc(44px + env(safe-area-inset-top))}.app-ios.statusbar-padding .ion-page>ion-content:first-child ion-scroll,.app-ios.statusbar-padding .ion-page>ion-header>ion-content:first-child ion-scroll,.app-ios.statusbar-padding ion-menu>.menu-inner>ion-content:first-child ion-scroll,.app-ios.statusbar-padding ion-menu>.menu-inner>ion-header>ion-content:first-child ion-scroll,.app-ios.statusbar-padding>ion-header>ion-content:first-child ion-scroll{padding-top:20px;padding-top:calc(env(safe-area-inset-top) + 0px)}.app-ios.statusbar-padding .ion-page>.toolbar:first-child ion-segment,.app-ios.statusbar-padding .ion-page>.toolbar:first-child ion-title,.app-ios.statusbar-padding .ion-page>ion-header>.toolbar:first-child ion-segment,.app-ios.statusbar-padding .ion-page>ion-header>.toolbar:first-child ion-title,.app-ios.statusbar-padding ion-menu>.menu-inner>.toolbar:first-child ion-segment,.app-ios.statusbar-padding ion-menu>.menu-inner>.toolbar:first-child ion-title,.app-ios.statusbar-padding ion-menu>.menu-inner>ion-header>.toolbar:first-child ion-segment,.app-ios.statusbar-padding ion-menu>.menu-inner>ion-header>.toolbar:first-child ion-title,.app-ios.statusbar-padding>ion-header>.toolbar:first-child ion-segment,.app-ios.statusbar-padding>ion-header>.toolbar:first-child ion-title{padding-top:20px;padding-top:calc(env(safe-area-inset-top) + 0px);height:calc(44px + env(safe-area-inset-top));min-height:calc(44px + 20px);min-height:calc(44px + constant(safe-area-inset-top));min-height:calc(44px + env(safe-area-inset-top))}.app-ios [padding],.app-ios [padding] .scroll-inner{padding:16px}.app-ios [padding-top],.app-ios [padding-top] .scroll-inner{padding-top:16px}.app-ios [padding-left],.app-ios [padding-left] .scroll-inner{padding-left:16px}.app-ios [padding-right],.app-ios [padding-right] .scroll-inner{padding-right:16px}.app-ios [padding-bottom],.app-ios [padding-bottom] .scroll-inner{padding-bottom:16px}.app-ios [padding-vertical],.app-ios [padding-vertical] .scroll-inner{padding-top:16px;padding-bottom:16px}.app-ios [padding-horizontal],.app-ios [padding-horizontal] .scroll-inner{padding-left:16px;padding-right:16px}.app-ios [margin],.app-ios [margin] .scroll-inner{margin:16px}.app-ios [margin-top],.app-ios [margin-top] .scroll-inner{margin-top:16px}.app-ios [margin-left],.app-ios [margin-left] .scroll-inner,.app-ios [margin-start],.app-ios [margin-start] .scroll-inner{margin-left:16px}.app-ios [margin-end],.app-ios [margin-end] .scroll-inner,.app-ios [margin-right],.app-ios [margin-right] .scroll-inner{margin-right:16px}.app-ios [margin-bottom],.app-ios [margin-bottom] .scroll-inner{margin-bottom:16px}.app-ios [margin-vertical],.app-ios [margin-vertical] .scroll-inner{margin-top:16px;margin-bottom:16px}.app-ios [margin-horizontal],.app-ios [margin-horizontal] .scroll-inner{margin-left:16px;margin-right:16px}"}static get styleMode(){return"ios"}}class d{constructor(t,e,s){this.dirty=!1,this.isPan=0;const i=s*(Math.PI/180);this.isDirX="x"===t,this.maxCosine=Math.cos(i),this.threshold=e*e}start(t,e){this.startX=t,this.startY=e,this.isPan=0,this.dirty=!0}detect(t,e){if(!this.dirty)return!1;const s=t-this.startX,i=e-this.startY,n=s*s+i*i;if(n<this.threshold)return!1;const o=Math.sqrt(n),r=(this.isDirX?s:i)/o;return r>this.maxCosine?this.isPan=1:r<-this.maxCosine?this.isPan=-1:this.isPan=0,this.dirty=!1,!0}isGesture(){return 0!==this.isPan}getDirection(){return this.isPan}}const p={disable:["menu-swipe","goback-swipe"],disableScroll:!0};class m{constructor(){this.positions=[],this.lastTouch=0,this.hasCapturedPan=!1,this.hasStartedPan=!1,this.hasFiredStart=!0,this.isMoveQueued=!1,this.disabled=!1,this.attachTo="child",this.autoBlockAll=!1,this.disableScroll=!1,this.direction="x",this.gestureName="",this.gesturePriority=0,this.passive=!0,this.maxAngle=40,this.threshold=10,this.detail={type:"pan",startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,event:void 0,data:void 0}}async componentWillLoad(){this.isServer||(this.gesture=await this.gestureCtrl.create({name:this.gestureName,priority:this.gesturePriority,disableScroll:this.disableScroll}))}componentDidLoad(){this.isServer||(this.pan=new d(this.direction,this.threshold,this.maxAngle),this.disabledChanged(this.disabled),this.autoBlockAll&&this.gestureCtrl.componentOnReady().then(t=>t.createBlocker(p)).then(t=>this.blocker=t))}componentDidUnload(){this.blocker&&(this.blocker.destroy(),this.blocker=void 0),this.gesture&&this.gesture.destroy()}disabledChanged(t){this.enableListener(this,"touchstart",!t,this.attachTo,this.passive),this.enableListener(this,"mousedown",!t,this.attachTo,this.passive),t&&this.abortGesture()}onTouchStart(t){this.lastTouch=s(t),this.pointerDown(t,this.lastTouch)?(this.enableMouse(!1),this.enableTouch(!0)):this.abortGesture()}onMouseDown(t){const e=s(t);(0===this.lastTouch||this.lastTouch+g<e)&&(this.pointerDown(t,e)?(this.enableMouse(!0),this.enableTouch(!1)):this.abortGesture())}pointerDown(t,e){if(!this.gesture||this.hasStartedPan||!this.hasFiredStart)return!1;const s=this.detail;return v(t,s),s.startX=s.currentX,s.startY=s.currentY,s.startTimeStamp=s.timeStamp=e,s.velocityX=s.velocityY=s.deltaX=s.deltaY=0,s.event=t,this.positions.length=0,this.hasFiredStart,this.hasStartedPan,this.hasCapturedPan,this.isMoveQueued,this.positions.length,(!this.canStart||!1!==this.canStart(s))&&(this.gesture.release(),!!this.gesture.start()&&(this.positions.push(s.currentX,s.currentY,e),this.hasStartedPan=!0,0===this.threshold?this.tryToCapturePan():(this.pan.start(s.startX,s.startY),!0)))}onTouchMove(t){this.lastTouch=this.detail.timeStamp=s(t),this.pointerMove(t)}onMoveMove(t){const e=s(t);(0===this.lastTouch||this.lastTouch+g<e)&&(this.detail.timeStamp=e,this.pointerMove(t))}pointerMove(t){if(this.hasCapturedPan)return void(!this.isMoveQueued&&this.hasFiredStart&&(this.isMoveQueued=!0,this.calcGestureData(t),this.queue.write(this.fireOnMove.bind(this))));const e=this.detail;this.calcGestureData(t),this.pan.detect(e.currentX,e.currentY)&&this.pan.isGesture()&&(this.tryToCapturePan()||this.abortGesture())}fireOnMove(){if(!this.hasCapturedPan)return;const t=this.detail;this.isMoveQueued=!1,this.onMove&&this.onMove(t)}calcGestureData(t){const e=this.detail;v(t,e);const s=e.currentX,i=e.currentY,n=e.timeStamp;e.deltaX=s-e.startX,e.deltaY=i-e.startY,e.event=t;const o=n-100,r=this.positions;let a=r.length-1;for(;a>0&&r[a]>o;)a-=3;if(a>1){const t=1/(r[a]-n),o=r[a-1]-i,h=r[a-2]-s;e.velocityX=h*t,e.velocityY=o*t}else e.velocityX=0,e.velocityY=0;r.push(s,i,n)}tryToCapturePan(){if(this.gesture&&!this.gesture.capture())return!1;this.hasCapturedPan=!0,this.hasFiredStart=!1;const t=this.detail;return t.startX=t.currentX,t.startY=t.currentY,t.startTimeStamp=t.timeStamp,this.onWillStart?this.onWillStart(this.detail).then(this.fireOnStart.bind(this)):this.fireOnStart(),!0}fireOnStart(){this.hasFiredStart,this.onStart&&this.onStart(this.detail),this.hasFiredStart=!0}abortGesture(){this.reset(),this.enable(!1),this.notCaptured&&this.notCaptured(this.detail)}reset(){this.hasCapturedPan=!1,this.hasStartedPan=!1,this.isMoveQueued=!1,this.hasFiredStart=!0,this.gesture&&this.gesture.release()}onTouchCancel(t){this.lastTouch=this.detail.timeStamp=s(t),this.pointerUp(t),this.enableTouch(!1)}onMouseUp(t){const e=s(t);(0===this.lastTouch||this.lastTouch+g<e)&&(this.detail.timeStamp=e,this.pointerUp(t),this.enableMouse(!1))}pointerUp(t){const e=this.hasCapturedPan,s=this.hasFiredStart;if(this.reset(),!s)return;const i=this.detail;this.calcGestureData(t),e?this.onEnd&&this.onEnd(i):this.notCaptured&&this.notCaptured(i)}enableMouse(t){this.enableListener(this,"document:mousemove",t,void 0,this.passive),this.enableListener(this,"document:mouseup",t,void 0,this.passive)}enableTouch(t){this.enableListener(this,"touchmove",t,this.attachTo,this.passive),this.enableListener(this,"touchcancel",t,this.attachTo,this.passive),this.enableListener(this,"touchend",t,this.attachTo,this.passive)}enable(t){this.enableMouse(t),this.enableTouch(t)}static get is(){return"ion-gesture"}static get properties(){return{attachTo:{type:String,attr:"attach-to"},autoBlockAll:{type:Boolean,attr:"auto-block-all"},canStart:{type:"Any",attr:"can-start"},direction:{type:String,attr:"direction"},disabled:{type:Boolean,attr:"disabled",watchCallbacks:["disabledChanged"]},disableScroll:{type:Boolean,attr:"disable-scroll"},enableListener:{context:"enableListener"},gestureCtrl:{connect:"ion-gesture-controller"},gestureName:{type:String,attr:"gesture-name"},gesturePriority:{type:Number,attr:"gesture-priority"},isServer:{context:"isServer"},maxAngle:{type:Number,attr:"max-angle"},notCaptured:{type:"Any",attr:"not-captured"},onEnd:{type:"Any",attr:"on-end"},onMove:{type:"Any",attr:"on-move"},onStart:{type:"Any",attr:"on-start"},onWillStart:{type:"Any",attr:"on-will-start"},passive:{type:Boolean,attr:"passive"},queue:{context:"queue"},threshold:{type:Number,attr:"threshold"}}}static get listeners(){return[{name:"touchstart",method:"onTouchStart",disabled:!0,passive:!0},{name:"mousedown",method:"onMouseDown",disabled:!0,passive:!0},{name:"touchmove",method:"onTouchMove",disabled:!0,passive:!0},{name:"document:mousemove",method:"onMoveMove",disabled:!0,passive:!0},{name:"touchcancel",method:"onTouchCancel",disabled:!0,passive:!0},{name:"touchend",method:"onTouchCancel",disabled:!0,passive:!0},{name:"document:mouseup",method:"onMouseUp",disabled:!0,passive:!0}]}}const g=2500;function v(t,e){let s=0,i=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];s=t.clientX,i=t.clientY}else void 0!==t.pageX&&(s=t.pageX,i=t.pageY)}e.currentX=s,e.currentY=i}class f{constructor(t,e,s,i,n){this.id=e,this.name=s,this.priority=i,this.disableScroll=n,this.ctrl=t}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class w{constructor(t,e,s,i){this.id=t,this.disable=s,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set,this.capturedId=null}create(t){return Promise.resolve(new f(this,this.newID(),t.name,t.priority?t.priority:0,!!t.disableScroll))}createBlocker(t={}){return new w(this.newID(),this,t.disable,!!t.disableScroll)}start(t,e,s){return this.canStart(t)?(this.requestedStart.set(e,s),!0):(this.requestedStart.delete(e),!1)}capture(t,e,s){if(!this.start(t,e,s))return!1;const i=this.requestedStart;let n=-1e4;return i.forEach(t=>{n=Math.max(n,t)}),n===s?(this.capturedId=e,i.clear(),this.ionGestureCaptured&&this.ionGestureCaptured.emit(t),!0):(i.delete(e),!1)}release(t){this.requestedStart.delete(t),this.capturedId&&t===this.capturedId&&(this.capturedId=null)}disableGesture(t,e){let s=this.disabledGestures.get(t);s||(s=new Set,this.disabledGestures.set(t,s)),s.add(e)}enableGesture(t,e){const s=this.disabledGestures.get(t);s&&s.delete(e)}disableScroll(t){this.disabledScroll.add(t)}enableScroll(t){this.disabledScroll.delete(t)}canStart(t){return!this.capturedId&&!this.isDisabled(t)}isCaptured(){return!!this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const e=this.disabledGestures.get(t);return!!(e&&e.size>0)}newID(){return this.gestureId++,this.gestureId}static get is(){return"ion-gesture-controller"}static get properties(){return{create:{method:!0},createBlocker:{method:!0}}}static get events(){return[{name:"ionGestureCaptured",method:"ionGestureCaptured",bubbles:!0,cancelable:!0,composed:!0}]}}const y=()=>import("./ios.transition.js"),S=()=>import("./md.transition.js");async function T(t,e){const s=(null!=t.deepWait?t.deepWait:e)?[R(t.enteringEl),R(t.leavingEl)]:[D(t.enteringEl),D(t.leavingEl)];await Promise.all(s),await async function(t,e){t&&await t(e)}(t.viewIsReady,t.enteringEl)}function C(t,e,s){P(t,s,"ionViewWillLeave"),P(t,e,"ionViewWillEnter")}function E(t,e,s){P(t,e,"ionViewDidEnter"),P(t,s,"ionViewDidLeave")}function P(t,e,s){if(e){const i=new(0,t.CustomEvent)(s,{bubbles:!1,cancelable:!1});e.dispatchEvent(i)}}function D(t){return t&&t.componentOnReady?t.componentOnReady():Promise.resolve()}function R(t){return t?customElements.get?customElements.get(t.tagName.toLowerCase())?k(t):Promise.all(Array.from(t.children).map(R)):k(t):Promise.resolve()}function k(t){return t.componentOnReady?t.componentOnReady():Promise.all(Array.from(t.children).map(R))}class I{constructor(t,e){this.component=t,this.params=e,this.state=1}async init(t){if(this.state=2,!this.element){const e=this.component;this.element=await function(t,e,s,i,n){if(t)return t.attachViewToDom(e,s,n,i);if("string"!=typeof s&&!(s instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof s?e.ownerDocument.createElement(s):s;return i&&i.forEach(t=>o.classList.add(t)),n&&Object.assign(o,n),e.appendChild(o),o.componentOnReady?o.componentOnReady():Promise.resolve(o)}(this.delegate,t,e,["ion-page","hide-page"],this.params)}}_destroy(){this.state;const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=3}}function A(t,e,s){if(!t)return!1;if(t.component!==e)return!1;const i=t.params,n=null==i,o=null==s;if(n!==o)return!1;if(n&&o)return!0;const r=Object.keys(i),a=Object.keys(s);if(r.length!==a.length)return!1;for(let t=0;t<r.length;t++){const e=r[t];if(i[e]!==s[e])return!1}return!0}function M(t,e){return t?t instanceof I?t:new I(t,e):null}class x{constructor(){this.transInstr=[],this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[]}rootChanged(){this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){this.useRouter=!!this.win.document.querySelector("ion-router")&&!this.el.closest("[no-router]"),void 0===this.swipeBackEnabled&&(this.swipeBackEnabled=this.config.getBoolean("swipeBackEnabled","ios"===this.mode)),void 0===this.animated&&(this.animated=this.config.getBoolean("animate",!0)),this.ionNavWillLoad.emit()}componentDidLoad(){this.rootChanged()}componentDidUnload(){for(const t of this.views)P(this.win,t.element,"ionViewWillUnload"),t._destroy();this.sbTrns&&this.sbTrns.destroy(),this.transInstr.length=this.views.length=0,this.sbTrns=void 0,this.destroyed=!0}push(t,e,s,i){return this.queueTrns({insertStart:-1,insertViews:[{page:t,params:e}],opts:s},i)}insert(t,e,s,i,n){return this.queueTrns({insertStart:t,insertViews:[{page:e,params:s}],opts:i},n)}insertPages(t,e,s,i){return this.queueTrns({insertStart:t,insertViews:e,opts:s},i)}pop(t,e){return this.queueTrns({removeStart:-1,removeCount:1,opts:t},e)}popTo(t,e,s){const i={removeStart:-1,removeCount:-1,opts:e};return t instanceof I?(i.removeView=t,i.removeStart=1):"number"==typeof t&&(i.removeStart=t+1),this.queueTrns(i,s)}popToRoot(t,e){return this.queueTrns({removeStart:1,removeCount:-1,opts:t},e)}removeIndex(t,e=1,s,i){return this.queueTrns({removeStart:t,removeCount:e,opts:s},i)}setRoot(t,e,s,i){return this.setPages([{page:t,params:e}],s,i)}setPages(t,e,s){return e||(e={}),!0!==e.animated&&(e.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},s)}setRouteId(t,e,s){const i=this.getActive();if(A(i,t,e))return Promise.resolve({changed:!1,element:i.element});let n;const o=new Promise(t=>n=t);let r;const a={updateURL:!1,viewIsReady:t=>{let e;const s=new Promise(t=>e=t);return n({changed:!0,element:t,markVisible:async()=>{e(),await r}}),s}};if(0===s)r=this.setRoot(t,e,a);else{const i=this.views.find(s=>A(s,t,e));i?r=this.popTo(i,Object.assign({},a,{direction:"back"})):1===s?r=this.push(t,e,a):-1===s&&(r=this.setRoot(t,e,Object.assign({},a,{direction:"back",animated:!0})))}return o}getRouteId(){const t=this.getActive();return t?{id:t.element.tagName,params:t.params,element:t.element}:void 0}canGoBack(t=this.getActive()){return!(!t||!this.getPrevious(t))}getActive(){return this.views[this.views.length-1]}getByIndex(t){return this.views[t]}getPrevious(t=this.getActive()){if(!t)return;const e=this.views,s=e.indexOf(t);return s>0?e[s-1]:void 0}length(){return this.views.length}queueTrns(t,e){const s=new Promise((e,s)=>{t.resolve=e,t.reject=s});return t.done=e,t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),s}success(t,e){if(null!==this.transInstr){if(e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),e.resolve(t.hasCompleted),!1!==e.opts.updateURL&&this.useRouter){const e=this.win.document.querySelector("ion-router");if(e){const s="back"===t.direction?-1:1;e.navChanged(s)}}}else this.fireError("nav controller was destroyed",e)}failed(t,e){null!==this.transInstr?(this.transInstr.length=0,this.fireError(t,e)):this.fireError("nav controller was destroyed",e)}fireError(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this.destroyed?e.reject(t):e.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const e=this.getActive(),s=this.getEnteringView(t,e);if(!e&&!s)throw new Error("no views in the stack to be removed");s&&1===s.state&&await s.init(this.el),this.postViewInit(s,e,t);const i=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&s!==e?await this.transition(s,e,t):{hasCompleted:!0,requiresTransition:!1};this.success(i,t),this.ionNavDidChange.emit()}catch(e){this.failed(e,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){const e=this.views.length;if(t.opts=t.opts||{},void 0===t.opts.delegate&&(t.opts.delegate=this.delegate),null!=t.removeView){t.removeStart,t.removeCount;const e=this.views.indexOf(t.removeView);if(e<0)throw new Error("removeView was not found");t.removeStart+=e}null!=t.removeStart&&(t.removeStart<0&&(t.removeStart=e-1),t.removeCount<0&&(t.removeCount=e-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===e),t.insertViews&&((t.insertStart<0||t.insertStart>e)&&(t.insertStart=e),t.enteringRequiresTransition=t.insertStart===e);const s=t.insertViews;if(!s)return;s.length;const i=s.map(t=>t instanceof I?t:"page"in t?M(t.page,t.params):M(t,void 0)).filter(t=>null!==t);if(0===i.length)throw new Error("invalid views to insert");for(const e of i){e.delegate=t.opts.delegate;const s=e.nav;if(s&&s!==this)throw new Error("inserted view was already inserted");if(3===e.state)throw new Error("inserted view was already destroyed")}t.insertViews=i}getEnteringView(t,e){const s=t.insertViews;if(s)return s[s.length-1];const i=t.removeStart;if(null!=i){const s=this.views,n=i+t.removeCount;for(let t=s.length-1;t>=0;t--){const o=s[t];if((t<i||t>=n)&&o!==e)return o}}}postViewInit(t,e,s){s.resolve,s.reject;const i=s.opts,n=s.insertViews,o=s.removeStart,r=s.removeCount;let a=void 0;if(null!=o&&null!=r){a=[];for(let s=0;s<r;s++){const i=this.views[s+o];i&&i!==t&&i!==e&&a.push(i)}i.direction=i.direction||"back"}if(0===this.views.length+(n?n.length:0)-(r||0))throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(n){let t=s.insertStart;for(const e of n)this.insertViewAt(e,t),t++;s.enteringRequiresTransition&&(i.direction=i.direction||"forward")}if(a&&a.length>0){for(const t of a)P(this.win,t.element,"ionViewWillLeave"),P(this.win,t.element,"ionViewDidLeave"),P(this.win,t.element,"ionViewWillUnload");for(const t of a)this.destroyView(t)}}async transition(t,e,s){this.sbTrns&&(this.sbTrns.destroy(),this.sbTrns=void 0);const i=s.opts,n=i.progressAnimation?t=>{this.sbTrns=t}:void 0,o=t.element,r=e&&e.element,a=Object.assign({mode:this.mode,animated:this.animated,showGoBack:this.canGoBack(t),animationCtrl:this.animationCtrl,progressCallback:n,window:this.win,baseEl:this.el,enteringEl:o,leavingEl:r},i),h=await async function(t){!function(t){const e=t.enteringEl,s=t.leavingEl;(function(t,e,s){t&&(t.style.zIndex="back"===s?"99":"101"),e&&(e.style.zIndex="100")})(e,s,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),e.hidden=!1,s&&(s.hidden=!1)}(t);const e=await async function(t){if(t.leavingEl&&!1!==t.animated&&0!==t.duration)return t.animationBuilder?t.animationBuilder:"ios"===t.mode?(await y()).iosTransitionAnimation:(await S()).mdTransitionAnimation}(t);return e?async function(t,e){await T(e,!0);const s=await e.animationCtrl.create(t,e.baseEl,e);return C(e.window,e.enteringEl,e.leavingEl),await function(t,e){const s=e.progressCallback,i=new Promise(e=>t.onFinish(e));return s?(t.progressStart(),s(t)):t.play(),i}(s,e),s.hasCompleted&&E(e.window,e.enteringEl,e.leavingEl),s}(e,t):async function(t){const e=t.enteringEl,s=t.leavingEl;return e&&e.classList.remove("hide-page"),s&&s.classList.remove("hide-page"),await T(t,!1),C(t.window,e,s),E(t.window,e,s),null}(t)}(a);return this.transitionFinish(h,t,e,i)}transitionFinish(t,e,s,i){const n=!t||t.hasCompleted,o=n?e:s;return o&&this.cleanup(o),t&&t.destroy(),{hasCompleted:n,requiresTransition:!0,enteringView:e,leavingView:s,direction:i.direction}}insertViewAt(t,e){const s=this.views,i=s.indexOf(t);i>-1?(t.nav,s.splice(e,0,s.splice(i,1)[0])):(t.nav,t.nav=this,s.splice(e,0,t))}removeView(t){2===t.state||t.state;const e=this.views,s=e.indexOf(t);s>=0&&e.splice(s,1)}destroyView(t){t._destroy(),this.removeView(t)}cleanup(t){if(this.destroyed)return;const e=this.views,s=e.indexOf(t);for(let t=e.length-1;t>=0;t--){const i=e[t];t>s?(P(this.win,i.element,"ionViewWillUnload"),this.destroyView(i)):t<s&&(i.element.hidden=!0)}}swipeBackStart(){this.isTransitioning||this.transInstr.length>0||this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:"back",progressAnimation:!0}},void 0)}swipeBackProgress(t){if(this.sbTrns){this.isTransitioning=!0;const e=t.deltaX/this.win.innerWidth;this.sbTrns.progressStep(e)}}swipeBackEnd(t){if(this.sbTrns){const e=t.deltaX,s=this.win.innerWidth,i=e/s,n=t.velocityX,o=s/2,r=n>=0&&(n>.2||t.deltaX>o),a=(r?1-i:i)*s;let h=0;if(a>5){const t=a/Math.abs(n);h=Math.min(t,300)}this.sbTrns.progressEnd(r,i,h)}}canSwipeBack(){return!!this.swipeBackEnabled&&!this.isTransitioning&&this.canGoBack()}render(){return[this.swipeBackEnabled&&t("ion-gesture",{canStart:this.canSwipeBack.bind(this),onStart:this.swipeBackStart.bind(this),onMove:this.swipeBackProgress.bind(this),onEnd:this.swipeBackEnd.bind(this),gestureName:"goback-swipe",gesturePriority:10,direction:"x",threshold:10,attachTo:"body"}),"ios"===this.mode&&t("div",{class:"nav-decor"}),t("slot",null)]}static get is(){return"ion-nav"}static get properties(){return{animated:{type:Boolean,attr:"animated",mutable:!0},animationCtrl:{connect:"ion-animation-controller"},canGoBack:{method:!0},config:{context:"config"},delegate:{type:"Any",attr:"delegate"},el:{elementRef:!0},getActive:{method:!0},getByIndex:{method:!0},getPrevious:{method:!0},getRouteId:{method:!0},insert:{method:!0},insertPages:{method:!0},length:{method:!0},pop:{method:!0},popTo:{method:!0},popToRoot:{method:!0},push:{method:!0},queue:{context:"queue"},removeIndex:{method:!0},root:{type:String,attr:"root",watchCallbacks:["rootChanged"]},rootParams:{type:"Any",attr:"root-params"},setPages:{method:!0},setRoot:{method:!0},setRouteId:{method:!0},swipeBackEnabled:{type:Boolean,attr:"swipe-back-enabled",mutable:!0},win:{context:"window"}}}static get events(){return[{name:"ionNavWillLoad",method:"ionNavWillLoad",bubbles:!0,cancelable:!0,composed:!0},{name:"ionNavWillChange",method:"ionNavWillChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionNavDidChange",method:"ionNavDidChange",bubbles:!0,cancelable:!0,composed:!0}]}}class L{constructor(){this.url=""}onUpdate(t){this.ionRouteDataChanged.emit(t)}onComponentProps(t,e){if(t===e)return;const s=t?Object.keys(t):[],i=e?Object.keys(e):[];if(s.length===i.length)for(let i=0;i<s.length;i++){const n=s[i];if(t[n]!==e[n])return void this.onUpdate(t)}else this.onUpdate(t)}componentDidLoad(){this.ionRouteDataChanged.emit()}componentDidUnload(){this.ionRouteDataChanged.emit()}static get is(){return"ion-route"}static get properties(){return{component:{type:String,attr:"component",watchCallbacks:["onUpdate"]},componentProps:{type:"Any",attr:"component-props",watchCallbacks:["onComponentProps"]},url:{type:String,attr:"url",watchCallbacks:["onUpdate"]}}}static get events(){return[{name:"ionRouteDataChanged",method:"ionRouteDataChanged",bubbles:!0,cancelable:!0,composed:!0}]}}function B(t){return"/"+t.filter(t=>t.length>0).join("/")}function V(t){if(null==t)return[""];const e=t.split("/").map(t=>t.trim()).filter(t=>t.length>0);return 0===e.length?[""]:e}const q=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet";function W(t){if(!t)return;if(t.matches(q))return t;return t.querySelector(q)||void 0}function N(t,e){return e.find(e=>(function(t,e){const{from:s,to:i}=e;if(void 0===i)return!1;if(s.length>t.length)return!1;for(let e=0;e<s.length;e++){const i=s[e];if("*"===i)return!0;if(i!==t[e])return!1}return s.length===t.length})(t,e))}function G(t,e){const s=Math.min(t.length,e.length);let i=0;for(;i<s&&t[i].toLowerCase()===e[i].id;i++);return i}function U(t,e){const s=new Y(t);let i=!1,n=void 0;for(let t=0;t<e.length;t++){const o=e[t].path;if(""===o[0])i=!0;else{for(const e of o){const i=s.next();if(":"===e[0]){if(""===i)return null;((n=n||[])[t]||(n[t]={}))[e.slice(1)]=i}else if(i!==e)return null}i=!1}}return i&&i!==(""===s.next())?null:n?e.map((t,e)=>({id:t.id,path:t.path,params:O(t.params,n[e])})):e}function O(t,e){return!t&&e?e:t&&!e?t:t&&e?Object.assign({},t,e):void 0}function X(t){let e=1,s=1;for(const i of t)for(const t of i.path)":"===t[0]?e+=Math.pow(1,s):""!==t&&(e+=Math.pow(2,s)),s++;return e}class Y{constructor(t){this.path=t.slice()}next(){return this.path.length>0?this.path.shift():""}}function j(t){return Array.from(t.children).filter(t=>"ION-ROUTE-REDIRECT"===t.tagName).map(t=>{const e=H(t,"to");return{from:V(H(t,"from")),to:null==e?void 0:V(e)}})}function F(t){return function(t){const e=[];for(const s of t)Q([],e,s);return e}(function t(e,s=e){return Array.from(s.children).filter(t=>"ION-ROUTE"===t.tagName&&t.component).map(s=>{const i=H(s,"component");if(!i)throw new Error("component missing in ion-route");return{path:V(H(s,"url")),id:i.toLowerCase(),params:s.componentProps,children:t(e,s)}})}(t))}function H(t,e){return e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null}function Q(t,e,s){const i=t.slice();if(i.push({id:s.id,path:s.path,params:s.params}),0!==s.children.length)for(const t of s.children)Q(i,e,t);else e.push(i)}class z{constructor(){this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}async componentWillLoad(){var t;await(t=this.win,W(t.document.body)?Promise.resolve():new Promise(e=>{t.addEventListener("ionNavWillLoad",e,{once:!0})})),await this.onRoutesChanged(),this.win.addEventListener("ionRouteRedirectChanged",i(this.onRedirectChanged.bind(this),10)),this.win.addEventListener("ionRouteDataChanged",i(this.onRoutesChanged.bind(this),100)),this.onRedirectChanged()}onPopState(){const t=this.historyDirection(),e=this.getPath();return this.writeNavStateRoot(e,t)}push(t,e="forward"){const s=V(t),i=_[e];return this.setPath(s,i),this.writeNavStateRoot(s,i)}printDebug(){this.getPath(),this.previousPath,function(t){console.group(`[ion-core] ROUTES[${t.length}]`);for(const e of t){const t=[];e.forEach(e=>t.push(...e.path));const s=e.map(t=>t.id);B(t),s.join(", ")}console.groupEnd()}(F(this.el)),function(t){console.group(`[ion-core] REDIRECTS[${t.length}]`);for(const e of t)e.to&&(B(e.from),B(e.to));console.groupEnd()}(j(this.el))}async navChanged(t){if(this.busy)return!1;const{ids:e,outlet:s}=function(t){const e=[];let s,i=t;for(;s=W(i);){const t=s.getRouteId();if(!t)break;i=t.element,t.element=void 0,e.push(t)}return{ids:e,outlet:s}}(this.win.document.body),i=function(t,e){let s=null,i=0;const n=t.map(t=>t.id);for(const t of e){const e=G(n,t);e>i&&(s=t,i=e)}return s?s.map((e,s)=>({id:e.id,path:e.path,params:O(e.params,t[s]&&t[s].params)})):null}(e,F(this.el));if(!i)return console.warn("[ion-router] no matching URL for ",e.map(t=>t.id)),!1;const n=function(t){const e=[];for(const s of t)for(const t of s.path)if(":"===t[0]){const i=s.params&&s.params[t.slice(1)];if(!i)return null;e.push(i)}else""!==t&&e.push(t);return e}(i);return n?(this.setPath(n,t),await this.writeNavState(s,i,0,n,null,e.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const t=this.getPath();t&&N(t,j(this.el))&&this.writeNavStateRoot(t,0)}onRoutesChanged(){return this.writeNavStateRoot(this.getPath(),0)}historyDirection(){null===this.win.history.state&&(this.state++,this.win.history.replaceState(this.state,this.win.document.title,this.win.document.location.href));const t=this.win.history.state,e=this.lastState;return this.lastState=t,t>e?1:t<e?-1:0}async writeNavStateRoot(t,e){if(this.busy)return!1;if(!t)return console.error("[ion-router] URL is not part of the routing set"),!1;const s=N(t,j(this.el));let i=null;s&&(this.setPath(s.to,e),i=s.from,t=s.to);const n=function(t,e){let s=null,i=0;for(const n of e){const e=U(t,n);if(null!==e){const t=X(e);t>i&&(i=t,s=e)}}return s}(t,F(this.el));return n?this.writeNavState(this.win.document.body,n,e,t,i):(console.error("[ion-router] the path does not match any route"),!1)}async writeNavState(t,e,s,i,n,o=0){if(this.busy)return!1;this.busy=!0;const r=this.routeChangeEvent(i,n);r&&this.ionRouteWillChange.emit(r);const a=await async function t(e,s,i,n,o=!1){try{const r=W(e);if(n>=s.length||!r)return o;await r.componentOnReady();const a=s[n],h=await r.setRouteId(a.id,a.params,i);return h.changed&&(i=0,o=!0),o=await t(h.element,s,i,n+1,o),h.markVisible&&await h.markVisible(),o}catch(t){return console.error(t),!1}}(t,e,s,o);return this.busy=!1,r&&this.ionRouteDidChange.emit(r),a}setPath(t,e){this.state++,function(t,e,s,i,n,o){let r=B([...V(e),...i]);s&&(r="#"+r),1===n?t.pushState(o,"",r):t.replaceState(o,"",r)}(this.win.history,this.root,this.useHash,t,e,this.state)}getPath(){return function(t,e,s){let i=t.pathname;if(s){const e=t.hash;i="#"===e[0]?e.slice(1):""}return function(t,e){if(t.length>e.length)return null;if(t.length<=1&&""===t[0])return e;for(let s=0;s<t.length;s++)if(t[s].length>0&&t[s]!==e[s])return null;return e.length===t.length?[""]:e.slice(t.length)}(V(e),V(i))}(this.win.location,this.root,this.useHash)}routeChangeEvent(t,e){const s=this.previousPath,i=B(t);return this.previousPath=i,i===s?null:{from:s,redirectedFrom:e?B(e):null,to:i}}static get is(){return"ion-router"}static get properties(){return{config:{context:"config"},el:{elementRef:!0},navChanged:{method:!0},printDebug:{method:!0},push:{method:!0},queue:{context:"queue"},root:{type:String,attr:"root"},useHash:{type:Boolean,attr:"use-hash"},win:{context:"window"}}}static get events(){return[{name:"ionRouteWillChange",method:"ionRouteWillChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionRouteDidChange",method:"ionRouteDidChange",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"window:popstate",method:"onPopState"}]}}const _={back:-1,root:0,forward:1};class K{constructor(){this.duration=300}onStatusTap(){this.queue.read(()=>{const t=this.win.innerWidth,e=this.win.innerWidth,s=this.win.document.elementFromPoint(t/2,e/2);if(!s)return;const i=s.closest("ion-scroll");i&&i.componentOnReady().then(()=>{this.queue.write(()=>{i.scrollToTop(this.duration)})})})}static get is(){return"ion-status-tap"}static get properties(){return{duration:{type:Number,attr:"duration"},queue:{context:"queue"},win:{context:"window"}}}static get listeners(){return[{name:"window:statusTap",method:"onStatusTap"}]}}class ${constructor(){this.lastTouch=10*-et,this.lastActivated=0,this.cancelled=!1,this.clearDefers=new WeakMap}onBodyClick(t){this.cancelled&&(t.preventDefault(),t.stopPropagation())}onTouchStart(t){this.lastTouch=s(t),this.pointerDown(t)}onTouchEnd(t){this.lastTouch=s(t),this.pointerUp(t)}onMouseDown(t){const e=s(t)-et;this.lastTouch<e&&this.pointerDown(t)}onMouseUp(t){const e=s(t)-et;this.lastTouch<e&&this.pointerUp(t)}cancelActive(){clearTimeout(this.activeDefer),this.activatableEle&&(this.removeActivated(!1),this.activatableEle=void 0),this.cancelled=!0}pointerDown(t){this.activatableEle||(this.cancelled=!1,this.setActivatedElement(t.target.closest("a,button,[tappable]"),t))}pointerUp(t){this.setActivatedElement(void 0,t),this.cancelled&&t.cancelable&&t.preventDefault()}setActivatedElement(t,e){const s=this.activatableEle;if(t&&t===s)return;clearTimeout(this.activeDefer),this.activeDefer=void 0;const{x:i,y:o}=n(e);if(s){if(this.clearDefers.has(s))throw new Error("internal error");s.classList.contains(J)||this.addActivated(s,i,o),this.removeActivated(!0)}if(t){const e=this.clearDefers.get(t);e&&(clearTimeout(e),this.clearDefers.delete(t)),t.classList.remove(J),this.activeDefer=setTimeout(()=>{this.addActivated(t,i,o),this.activeDefer=void 0},Z)}this.activatableEle=t}addActivated(t,e,s){this.lastActivated=Date.now(),t.classList.add(J);const i=new CustomEvent("ionActivated",{bubbles:!1,detail:{x:e,y:s}});t.dispatchEvent(i)}removeActivated(t){const e=this.activatableEle;if(!e)return;const s=tt-Date.now()+this.lastActivated;if(t&&s>0){const t=setTimeout(()=>{e.classList.remove(J),this.clearDefers.delete(e)},tt);this.clearDefers.set(e,t)}else e.classList.remove(J)}static get is(){return"ion-tap-click"}static get properties(){return{el:{elementRef:!0},enableListener:{context:"enableListener"},isServer:{context:"isServer"}}}static get listeners(){return[{name:"body:click",method:"onBodyClick",capture:!0},{name:"document:touchstart",method:"onTouchStart",capture:!0,passive:!0},{name:"document:touchcancel",method:"onTouchEnd",capture:!0},{name:"document:touchend",method:"onTouchEnd",capture:!0},{name:"document:mousedown",method:"onMouseDown",capture:!0,passive:!0},{name:"document:mouseup",method:"onMouseUp",capture:!0},{name:"body:ionScrollStart",method:"cancelActive"},{name:"body:ionGestureCaptured",method:"cancelActive"}]}}const J="activated",Z=200,tt=200,et=2500;class st{constructor(){this.toasts=new Map}toastWillPresent(t){this.toasts.set(t.target.overlayId,t.target)}toastWillDismiss(t){this.toasts.delete(t.target.overlayId)}escapeKeyUp(){h(this.toasts)}create(t){return o(this.doc.createElement("ion-toast"),t)}dismiss(t,e,s=-1){return r(t,e,this.toasts,s)}getTop(){return a(this.toasts)}static get is(){return"ion-toast-controller"}static get properties(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}}static get listeners(){return[{name:"body:ionToastWillPresent",method:"toastWillPresent"},{name:"body:ionToastWillDismiss",method:"toastWillDismiss"},{name:"body:ionToastDidUnload",method:"toastWillDismiss"},{name:"body:keyup.escape",method:"escapeKeyUp"}]}}export{l as MyApp,u as IonApp,m as IonGesture,b as IonGestureController,x as IonNav,L as IonRoute,z as IonRouter,K as IonStatusTap,$ as IonTapClick,st as IonToastController};